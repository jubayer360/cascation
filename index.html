<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CaseCation 2.0 Registration Form</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;900&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(135deg, #0a001a 0%, #1a0033 50%, #2a0044 100%);
      min-height: 100vh;
      color: white;
      overflow-x: hidden;
      position: relative;
    }

    /* Background decorative elements */
    body::before {
      content: '';
      position: fixed;
      top: -50%;
      right: -20%;
      width: 800px;
      height: 800px;
      background: radial-gradient(circle, rgba(0, 123, 255, 0.1) 0%, transparent 70%);
      border-radius: 50%;
      animation: float 6s ease-in-out infinite;
      z-index: 0;
      will-change: transform;
    }

    body::after {
      content: '';
      position: fixed;
      bottom: -30%;
      left: -10%;
      width: 600px;
      height: 600px;
      background: radial-gradient(circle, rgba(0, 191, 255, 0.08) 0%, transparent 70%);
      border-radius: 50%;
      animation: float 8s ease-in-out infinite reverse;
      z-index: 0;
      will-change: transform;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(5deg); }
    }

    /* Header section */
    .header {
      text-align: center;
      padding: 40px 20px;
      position: relative;
      z-index: 1;
    }

    .club-logo {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 80px;
      height: auto;
      opacity: 0.8;
      transition: opacity 0.3s ease;
      z-index: 2;
    }

    .club-logo:hover {
      opacity: 1;
    }

    .logo-container {
      margin-bottom: 30px;
    }

    .logo {
      max-width: 300px;
      height: auto;
      filter: drop-shadow(0 10px 30px rgba(0, 123, 255, 0.3));
      transition: transform 0.3s ease;
    }

    .logo:hover {
      transform: scale(1.05);
    }

    @keyframes pulse {
      0% { transform: scale(1); text-shadow: 0 0 10px rgba(0, 123, 255, 0.3); }
      50% { transform: scale(1.02); text-shadow: 0 0 20px rgba(0, 123, 255, 0.6); }
      100% { transform: scale(1); text-shadow: 0 0 10px rgba(0, 123, 255, 0.3); }
    }

    @keyframes glow {
      0%, 100% { 
        text-shadow: 0 0 25px rgba(0, 212, 255, 0.7), 0 0 50px rgba(0, 153, 255, 0.5), 0 0 75px rgba(0, 212, 255, 0.3);
      }
      50% { 
        text-shadow: 0 0 40px rgba(0, 212, 255, 1), 0 0 80px rgba(0, 153, 255, 0.7), 0 0 120px rgba(0, 212, 255, 0.5);
      }
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .punchline {
      font-family: 'Montserrat', sans-serif;
      font-size: 2.8rem;
      font-weight: 900;
      margin-bottom: 15px;
      background: linear-gradient(45deg, #00d4ff, #0099ff, #0066ff, #00d4ff);
      background-size: 300% 300%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      /* animation: glow 3s ease-in-out infinite, gradientShift 4s ease-in-out infinite; */
      letter-spacing: 2px;
      text-transform: uppercase;
      position: relative;
      display: inline-block;
      transition: transform 0.3s ease;
      will-change: transform, text-shadow, background-position;
    }

    .punchline:hover {
      transform: scale(1.05);
      animation-duration: 1.5s, 2s;
    }

    .subtitle {
      font-size: 1.1rem;
      color: #b8c6db;
      margin-bottom: 40px;
      font-weight: 300;
    }

    /* Form container */
    .form-container {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 0 30px 50px;
      position: relative;
      z-index: 1;
    }

    form {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.15);
      border-radius: 20px;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4);
      max-width: 900px;
      width: 100%;
      padding: 40px 50px;
      overflow: hidden;
      transition: box-shadow 0.3s ease;
    }

    form:hover {
      box-shadow: 0 30px 60px rgba(0, 0, 0, 0.5);
    }

    h2 {
      text-align: center;
      font-family: 'Montserrat', sans-serif;
      font-weight: 700;
      color: #00bfff;
      margin-bottom: 40px;
      font-size: 2.8rem;
      letter-spacing: 1px;
      text-shadow: 0 0 20px rgba(0, 191, 255, 0.5);
    }

    .section-title {
      font-family: 'Montserrat', sans-serif;
      font-size: 1.4rem;
      font-weight: 700;
      color: #00bfff;
      margin: 30px 0 15px;
      border-bottom: 2px solid #007bff;
      padding-bottom: 6px;
      letter-spacing: 0.8px;
      user-select: none;
    }

    label {
      display: block;
      font-weight: 600;
      margin-bottom: 6px;
      margin-top: 18px;
      color: #b8c6db;
      user-select: none;
    }

    input[type="text"],
    input[type="email"],
    select {
      width: 100%;
      padding: 12px 15px;
      border-radius: 10px;
      border: 2px solid rgba(255, 255, 255, 0.1);
      background: rgba(255, 255, 255, 0.05);
      color: white;
      font-size: 1rem;
      transition: border-color 0.3s ease, background 0.3s ease, box-shadow 0.3s ease;
      font-weight: 500;
      box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1);
      outline-offset: 2px;
    }

    /* Enhanced select styling for better cross-browser compatibility */
    select {
      /* Reset default appearance */
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      
      /* Custom dropdown arrow */
      background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");
      background-repeat: no-repeat;
      background-position: right 12px center;
      background-size: 16px;
      padding-right: 40px;
      
      /* Ensure proper height */
      min-height: 48px;
      line-height: 1.5;
      
      /* Better cursor */
      cursor: pointer;
    }

    /* Enhanced option styling for better visibility */
    select option {
      background-color: #1a1a2e;
      color: white;
      padding: 8px 12px;
      font-weight: 500;
      border: none;
      
      /* Fallback for browsers that don't support option styling */
      background: #1a1a2e;
    }

    /* Alternative styling for browsers that support it */
    select option:checked {
      background-color: #007bff;
      color: white;
    }

    select option:hover {
      background-color: #007bff;
      color: white;
    }

    /* Disabled option styling */
    select option:disabled {
      background-color: #2a2a3e;
      color: #666;
    }

    /* Focus states */
    input[type="text"]:focus,
    input[type="email"]:focus,
    select:focus {
      outline: none;
      border-color: #007bff;
      background: rgba(255, 255, 255, 0.08);
      box-shadow: 0 0 20px rgba(0, 123, 255, 0.3);
    }

    /* Enhanced focus for select elements */
    select:focus {
      background-color: rgba(255, 255, 255, 0.1);
    }

    input[type="text"]::placeholder,
    input[type="email"]::placeholder {
      color: #8892b0;
    }

    /* Remove browser default invalid styles */
    input:invalid, select:invalid {
      border-color: rgba(255, 255, 255, 0.1);
      box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    /* Red border only if .error class added */
    input.error, select.error {
      border-color: #e74c3c !important;
      box-shadow: 0 0 15px rgba(231, 76, 60, 0.4) !important;
    }

    .checkbox {
      margin-top: 30px;
      display: flex;
      align-items: center;
      gap: 12px;
      font-weight: 600;
      user-select: none;
      color: #b8c6db;
      line-height: 1.5;
    }

    .checkbox input[type="checkbox"] {
      width: 20px;
      height: 20px;
      cursor: pointer;
      accent-color: #007bff;
      border-radius: 4px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
      flex-shrink: 0;
    }

    .checkbox input[type="checkbox"]:focus {
      border-color: #007bff;
      outline: none;
      box-shadow: 0 0 15px rgba(0, 123, 255, 0.4);
    }

    button {
      margin-top: 40px;
      width: 100%;
      padding: 18px;
      font-size: 1.25rem;
      font-weight: 700;
      color: white;
      background: linear-gradient(45deg, #007bff, #00bfff);
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: transform 0.3s ease, background 0.3s ease, box-shadow 0.3s ease;
      box-shadow: 0 10px 30px rgba(0, 123, 255, 0.3);
      user-select: none;
      position: relative;
      overflow: hidden;
    }

    button:hover:not(.loading) {
      transform: translateY(-2px);
      background: linear-gradient(45deg, #0056b3, #0099cc);
      box-shadow: 0 15px 40px rgba(0, 123, 255, 0.4);
    }

    button:active {
      transform: translateY(0);
    }

    @keyframes spinner {
      to { transform: rotate(360deg); }
    }

    button.loading {
      pointer-events: none;
      color: transparent;
    }

    button.loading::after {
      content: "";
      box-sizing: border-box;
      position: absolute;
      top: 50%;
      left: 50%;
      width: 20px;
      height: 20px;
      margin-top: -10px;
      margin-left: -10px;
      border-radius: 50%;
      border: 3px solid white;
      border-top-color: transparent;
      animation: spinner 0.6s linear infinite;
    }

    .success {
      margin-top: 25px;
      padding: 18px 20px;
      border-radius: 12px;
      background: rgba(76, 175, 80, 0.2);
      border: 1px solid rgba(76, 175, 80, 0.5);
      color: #4caf50;
      font-weight: 700;
      text-align: center;
      font-size: 1.15rem;
      box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
      user-select: none;
      display: none;
    }

    .error-message {
      color: #e74c3c;
      font-weight: 600;
      margin-top: 15px;
      text-align: center;
      user-select: none;
      display: none;
      background: rgba(231, 76, 60, 0.1);
      border: 1px solid rgba(231, 76, 60, 0.3);
      padding: 12px;
      border-radius: 8px;
    }

    .grid-two-cols {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px 30px;
      margin-top: 10px;
    }

    .team-leader-info,
    .member-info {
      margin-bottom: 25px;
    }

    label[for*="Optional"]::after {
      content: " (Optional)";
      font-weight: 400;
      font-style: italic;
      color: #8892b0;
      font-size: 0.85rem;
      margin-left: 4px;
      user-select: none;
    }

    /* Mobile-specific improvements for dropdowns */
    @media (max-width: 768px) {
      .form-container {
        padding: 0 15px 30px;
      }

      form {
        padding: 30px 25px;
      }

      h2 {
        font-size: 2.2rem;
      }

      .punchline {
        font-size: 2.2rem;
        letter-spacing: 1.5px;
      }

      .logo {
        max-width: 250px;
      }

      .club-logo {
        width: 60px;
        top: 15px;
        right: 15px;
      }

      .grid-two-cols {
        grid-template-columns: 1fr;
        gap: 15px;
      }

      /* Enhanced mobile dropdown styling */
      select {
        min-height: 52px;
        font-size: 16px; /* Prevents zoom on iOS */
        background-size: 18px;
        background-position: right 15px center;
        padding-right: 45px;
      }

      select option {
        padding: 12px 15px;
        font-size: 16px;
      }
    }

    @media (max-width: 480px) {
      .header {
        padding: 30px 15px;
      }

      .punchline {
        font-size: 1.8rem;
        letter-spacing: 1px;
      }

      .logo {
        max-width: 200px;
      }

      h2 {
        font-size: 1.8rem;
      }

      .section-title {
        font-size: 1.2rem;
      }

      /* Further mobile optimizations */
      select {
        min-height: 54px;
        padding: 15px 50px 15px 15px;
      }
    }

    /* Fallback for older browsers */
    @supports not (appearance: none) {
      select {
        background-image: none;
        padding-right: 15px;
      }
    }

    /* High contrast mode support */
    @media (prefers-contrast: high) {
      select option {
        background-color: black;
        color: white;
      }
      
      select option:checked {
        background-color: white;
        color: black;
      }
    }
  </style>
</head>
<body>

<div class="header">
  <img src="rubc-logo.png" alt="Rajshahi University Business Club" class="club-logo">
  
  <div class="logo-container">
    <img src="cascation-logo.png" alt="Cascation Logo" class="logo">
  </div>
  <h1 class="punchline">For Minds That Think Deep, Aim High, and Stand Bold</h1>
  <p class="subtitle">CaseCation 2.0 is where sharp minds are going to meet real challenges. At RUBC, we uplift talent by pushing boundaries and recognizing impact. Each round is your chance to solve, pitch, and grow into the leader you aim to become!</p>
</div>

<div class="form-container">
  <form id="registrationForm" novalidate>
    <h2>CaseCation 2.0 Registration</h2>

    <div class="team-leader-info">
      <label for="teamName">Team Name *</label>
      <input id="teamName" name="Team Name" type="text" required autocomplete="off" />

      <label for="teamLeaderFullName">Team Leader's Full Name *</label>
      <input id="teamLeaderFullName" name="Team Leader's Full Name" type="text" required autocomplete="off" />

      <label for="teamLeaderUniversity">Team Leader's University Name *</label>
      <input id="teamLeaderUniversity" name="Team Leader's University Name" type="text" required autocomplete="off" />

      <label for="teamLeaderDepartment">Team Leader's Department & Year *</label>
      <input id="teamLeaderDepartment" name="Team Leader's Department & Year" type="text" required autocomplete="off" />

      <label for="teamLeaderPhone">Team Leader's Phone Number *</label>
      <input id="teamLeaderPhone" name="Team Leader's Phone Number" type="text" required autocomplete="off" pattern="\+?\d{7,15}" title="Please enter a valid phone number" />

      <label for="teamLeaderEmail">Team Leader's Email Address *</label>
      <input id="teamLeaderEmail" name="Team Leader's Email Address" type="email" required autocomplete="off" />
    </div>

    <div class="section-title">Member 2 Information</div>
    <div class="member-info grid-two-cols">
      <div>
        <label for="member2FullName">Full Name *</label>
        <input id="member2FullName" name="Member 2 - Full Name" type="text" required autocomplete="off" />
      </div>
      <div>
        <label for="member2Phone">Phone Number *</label>
        <input id="member2Phone" name="Member 2 - Phone Number" type="text" required autocomplete="off" pattern="\+?\d{7,15}" title="Please enter a valid phone number" />
      </div>
      <div>
        <label for="member2Email">Email Address *</label>
        <input id="member2Email" name="Member 2 - Email Address" type="email" required autocomplete="off" />
      </div>
      <div>
        <label for="member2University">University Name *</label>
        <input id="member2University" name="Member 2 - University Name" type="text" required autocomplete="off" />
      </div>
      <div style="grid-column: 1 / -1;">
        <label for="member2DeptYear">Department & Year *</label>
        <input id="member2DeptYear" name="Member 2 - Department & Year" type="text" required autocomplete="off" />
      </div>
    </div>

    <div class="section-title">Member 3 Information (Optional)</div>
    <div class="member-info grid-two-cols">
      <div>
        <label for="member3FullName">Full Name</label>
        <input id="member3FullName" name="Member 3 - Full Name (Optional)" type="text" autocomplete="off" />
      </div>
      <div>
        <label for="member3Phone">Phone Number</label>
        <input id="member3Phone" name="Member 3 - Phone Number (Optional)" type="text" autocomplete="off" pattern="\+?\d{7,15}" title="Please enter a valid phone number" />
      </div>
      <div>
        <label for="member3Email">Email Address</label>
        <input id="member3Email" name="Member 3 - Email Address (Optional)" type="email" autocomplete="off" />
      </div>
      <div>
        <label for="member3University">University Name</label>
        <input id="member3University" name="Member 3 - University Name (Optional)" type="text" autocomplete="off" />
      </div>
      <div style="grid-column: 1 / -1;">
        <label for="member3DeptYear">Department & Year</label>
        <input id="member3DeptYear" name="Member 3 - Department & Year (Optional)" type="text" autocomplete="off" />
      </div>
    </div>

    <div class="section-title">Member 4 Information (Optional)</div>
    <div class="member-info grid-two-cols">
      <div>
        <label for="member4FullName">Full Name</label>
        <input id="member4FullName" name="Member 4 - Full Name (Optional)" type="text" autocomplete="off" />
      </div>
      <div>
        <label for="member4Phone">Phone Number</label>
        <input id="member4Phone" name="Member 4 - Phone Number (Optional)" type="text" autocomplete="off" pattern="\+?\d{7,15}" title="Please enter a valid phone number" />
      </div>
      <div>
        <label for="member4Email">Email Address</label>
        <input id="member4Email" name="Member 4 - Email Address (Optional)" type="email" autocomplete="off" />
      </div>
      <div>
        <label for="member4University">University Name</label>
        <input id="member4University" name="Member 4 - University Name (Optional)" type="text" autocomplete="off" />
      </div>
      <div style="grid-column: 1 / -1;">
        <label for="member4DeptYear">Department & Year</label>
        <input id="member4DeptYear" name="Member 4 - Department & Year (Optional)" type="text" autocomplete="off" />
      </div>
    </div>

    <div class="section-title">Payment Information</div>
    <p style="margin-top: 10px; margin-bottom: 10px; font-weight: 600; color: #b8c6db;">Registration Fee: 510 BDT</p>
    <p style="margin-bottom: 20px; font-weight: 600; color: #b8c6db;">Bkash/Nagad/Rocket (Send Money):<br>01888433887, 01777861492</p>
    <div class="member-info grid-two-cols">
      <div>
        <label for="paymentMethod">Method of Payment *</label>
        <select id="paymentMethod" name="Method of Payment" required>
          <option value="" disabled selected>-- Select Method --</option>
          <option value="Bkash">Bkash</option>
          <option value="Nagad">Nagad</option>
          <option value="Rocket">Rocket</option>
        </select>
      </div>
      <div>
        <label for="paymentNumber">Number Used for Payment *</label>
        <input id="paymentNumber" name="Number Used for Payment" type="text" required autocomplete="off" pattern="\+?\d{7,15}" title="Please enter a valid phone number" />
      </div>
      <div>
        <label for="sendMoneyTo">Sent Money To *</label>
        <select id="sendMoneyTo" name="Send Money To" required>
          <option value="" disabled selected>-- Select Number --</option>
          <option value="01888433887">01888433887</option>
          <option value="01777861492">01777861492</option>
        </select>
      </div>
      <div>
        <label for="transactionId">Transaction ID *</label>
        <input id="transactionId" name="Transaction ID (for payment confirmation)" type="text" required autocomplete="off" />
      </div>
    </div>

    <div class="checkbox">
      <input type="checkbox" id="confirmation" name="Confirmation" value="Confirmed" required />
      <label for="confirmation">I confirm that all information provided is correct, the registration fee has been paid, and I'm stepping into CaseCation 2.0 with full intent to grow, to challenge myself, and to bring my best at every stage!</label>
    </div>

    <!-- Inline error message for form validation -->
    <div class="error-message" id="errorMsg">Please fill all required fields correctly before submitting.</div>

    <button type="submit">Submit Registration</button>

    <div class="success" id="successMsg">Thank you! Your registration has been recorded.</div>
  </form>
</div>

<script>
  const form = document.getElementById("registrationForm");
  const submitBtn = form.querySelector("button[type='submit']");
  const successMsg = document.getElementById("successMsg");
  const errorMsg = document.getElementById("errorMsg");
  const fields = form.querySelectorAll("input, select");

  // Enhanced dropdown functionality for better cross-device compatibility
  function enhanceDropdowns() {
    const selects = document.querySelectorAll('select');
    
    selects.forEach(select => {
      // Ensure all options are properly rendered
      select.addEventListener('focus', function() {
        // Force re-render of options on focus
        const options = Array.from(this.options);
        options.forEach(option => {
          if (option.value !== '') {
            option.style.display = 'block';
            option.style.backgroundColor = '#1a1a2e';
            option.style.color = 'white';
          }
        });
      });

      // Handle change events
      select.addEventListener('change', function() {
        if (this.value !== '') {
          this.style.color = 'white';
          this.classList.remove('error');
        }
      });

      // Handle click events for mobile devices
      select.addEventListener('click', function() {
        // Small delay to ensure dropdown opens properly
        setTimeout(() => {
          const options = Array.from(this.options);
          options.forEach(option => {
            if (option.value !== '') {
              option.style.display = 'block';
            }
          });
        }, 50);
      });
    });
  }

  // Add or remove red border on invalid/valid fields
  function validateField(field) {
    if (!field.checkValidity()) {
      field.classList.add("error");
    } else {
      field.classList.remove("error");
    }
  }

  // Initialize enhanced dropdown functionality
  document.addEventListener('DOMContentLoaded', function() {
    enhanceDropdowns();
  });

  form.addEventListener("submit", function(e) {
    e.preventDefault();

    let invalidFound = false;
    fields.forEach(field => {
      validateField(field);
      if (!field.checkValidity()) {
        if (!invalidFound) {
          field.focus();
          invalidFound = true;
        }
      }
    });

    if (invalidFound) {
      errorMsg.style.display = "block";
      successMsg.style.display = "none";
      return;
    } else {
      errorMsg.style.display = "none";
    }

    // proceed with submission
    submitBtn.classList.add("loading");
    submitBtn.textContent = "Submitting...";

    const formData = new FormData(form);

    fetch("https://script.google.com/macros/s/AKfycby6qBLYcfe77KEwTlGzxEHOztBvR6qhcrLbpGu8dxc4SpaZsO83FIqVCPbmMXn_SkMG/exec", {
      method: "POST",
      body: formData
    })
    .then(response => {
      if (response.ok) {
        form.reset();
        successMsg.style.display = "block";
        successMsg.scrollIntoView({ behavior: 'smooth' });
        // Clear error borders after reset
        fields.forEach(f => f.classList.remove("error"));
      } else {
        alert("Submission failed. Please try again.");
      }
    })
    .catch(error => {
      alert("Error: " + error.message);
    })
    .finally(() => {
      submitBtn.classList.remove("loading");
      submitBtn.textContent = "Submit Registration";
    });
  });

  // Remove error styling on user input/change
  fields.forEach(field => {
    field.addEventListener("input", () => validateField(field));
    field.addEventListener("change", () => validateField(field));
  });
</script>

</body>
</html>

